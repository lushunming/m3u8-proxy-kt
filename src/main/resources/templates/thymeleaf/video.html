<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta name=viewport
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui">
    <meta name="referrer" content="no-referrer">
    <title>xgplayer</title>
    <style type="text/css">
        html, body {
            width: 100%;
            height: 100%;
            margin: auto;
            overflow: hidden;
        }
    </style>
</head>

<body>
<div id="dplayer"></div>
<script th:inline="javascript">
    var url = [[${url}]];

    var type = [[${type}]]
    console.log(url);
</script>
<script src="/static/xgplayer/index.js" charset="utf-8"></script>
<script src="/static/xgplayer/xgplayer-hls.js" charset="utf-8"></script>
<script src="/static/xgplayer/cssFullscreen.js" charset="utf-8"></script>
<script src="/static/xgplayer/fullscreen.js"></script>
<script>
    var config = {
        "id": "dplayer",
        "url": url,
        autoplay: true,
        // "playsinline": true,
        fitVideoSize: 'auto',
        // download: true,
        cssFullscreen: true,
        // rotateFullscreen: true,
        "whitelist": [
            ""
        ]
    }
    if (type.indexOf("mpegURL") > -1) {
        config['hlsvod'] = {
            loadTimeout: 10000,
            preloadTime: 3600,
            retryCount: 1,
            retryDelay: 1000
        }
        let player = new HlsJsPlayer(config);
    } else {
        let player = new Player(config);
    }
</script>
</body>

</html>
